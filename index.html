<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Калькулятор топливной смеси</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <div class="sticky-header">
        <h2>Калькулятор топливной смеси для газогенератора Типа Имберт</h2>
        <div class="section">
            <div class="input-group">
                <label for="total-mass">Общее количество смеси, кг</label>
                <input type="number" id="total-mass" value="10">
            </div>
            <hr class="header-divider">
            <div class="results">
                <h3>⚡️ Результаты</h3>
                <p><span>Электрическая мощность</span><span id="res-power-el">0 кВт</span></p>
                <p><span>Тепловая мощность</span><span id="res-power-th">0 кВт</span></p>
                <div id="notifications-container"></div>
            </div>
        </div>
    </div>

    <div class="section" id="composition-section">
        <h3>Состав смеси</h3>
        <div class="component-card" id="wood-card">
            <div class="card-header">
                <input type="checkbox" class="lock-checkbox" data-id="wood"><div class="title-group"><label for="wood">Древесина</label><span class="subtitle">(воздушно-сухая и др.)</span></div>
                <span class="tooltip">i<span class="tooltip-text" id="wood-tooltip-text"></span></span>
            </div>
            <div class="card-body">
                <input type="range" id="wood" min="0" max="100" value="100" step="1">
                <div class="value-display"><span class="percentage" id="wood-val">100%</span><span class="mass" id="wood-mass">(10.0 кг)</span></div>
            </div>
            <div class="card-subsection hidden" id="wood-humidity-block">
                <div class="subsection-body">
                    <label for="wood-humidity">Влажность</label>
                    <div class="value-display"><span class="percentage" id="wood-humidity-val">20%</span></div>
                    <input type="range" id="wood-humidity" min="0" max="60" value="20" step="1" style="grid-column: 1/-1">
                </div>
            </div>
        </div>

        <div class="component-card" id="plastic-card">
            <div class="card-header">
                <input type="checkbox" class="lock-checkbox" data-id="plastic"><div class="title-group"><label for="plastic">Пластик ПНД</label><span class="subtitle">(канистры, пленка)</span></div>
                <span class="tooltip">i<span class="tooltip-text" id="plastic-tooltip-text"></span></span>
            </div>
            <div class="card-body">
                <input type="range" id="plastic" min="0" max="100" value="0" step="1">
                <div class="value-display"><span class="percentage" id="plastic-val">0%</span><span class="mass" id="plastic-mass">(0.0 кг)</span></div>
            </div>
        </div>

        <div class="component-card" id="cellophane-card">
            <div class="card-header">
                <input type="checkbox" class="lock-checkbox" data-id="cellophane" checked><div class="title-group"><label for="cellophane">Целлофан</label></div>
                <span class="tooltip">i<span class="tooltip-text" id="cellophane-tooltip-text"></span></span>
            </div>
            <div class="card-body">
                <input type="range" id="cellophane" min="0" max="100" value="0" step="1" disabled>
                <div class="value-display"><span class="percentage" id="cellophane-val">0%</span><span class="mass" id="cellophane-mass">(0.0 кг)</span></div>
            </div>
        </div>

        <div class="component-card" id="rubber-card">
            <div class="card-header">
                <input type="checkbox" class="lock-checkbox" data-id="rubber" checked><div class="title-group"><label for="rubber">Автопокрышки</label></div>
                <span class="tooltip">i<span class="tooltip-text" id="rubber-tooltip-text"></span></span>
            </div>
            <div class="card-body">
                <input type="range" id="rubber" min="0" max="100" value="0" step="1" disabled>
                <div class="value-display"><span class="percentage" id="rubber-val">0%</span><span class="mass" id="rubber-mass">(0.0 кг)</span></div>
            </div>
        </div>

        <div class="component-card" id="rags-card">
            <div class="card-header">
                <input type="checkbox" class="lock-checkbox" data-id="rags" checked><div class="title-group"><label for="rags">Ткань (синтетика)</label></div>
                <span class="tooltip">i<span class="tooltip-text" id="rags-tooltip-text"></span></span>
            </div>
            <div class="card-body">
                <input type="range" id="rags" min="0" max="100" value="0" step="1" disabled>
                <div class="value-display"><span class="percentage" id="rags-val">0%</span><span class="mass" id="rags-mass">(0.0 кг)</span></div>
            </div>
        </div>
    </div>
    
    <div class="section">
        <h3>Настройки КПД</h3>
        <div class="efficiency-item">
            <div class="header">
                <label for="eff-gasifier">КПД Газогенератора</label>
                <div class="value-display"><span class="percentage" id="eff-gasifier-val">66%</span></div>
            </div>
            <input type="range" id="eff-gasifier" min="10" max="95" value="66" step="1">
        </div>
        <div class="efficiency-item">
            <div class="header">
                <label for="eff-ice">КПД ДВС (на газе)</label>
                <div class="value-display"><span class="percentage" id="eff-ice-val">25%</span></div>
            </div>
            <input type="range" id="eff-ice" min="10" max="50" value="25" step="1">
        </div>
        <div class="efficiency-item">
            <div class="header">
                <label for="eff-electric">КПД Электрогенератора</label>
                <div class="value-display"><span class="percentage" id="eff-electric-val">80%</span></div>
            </div>
            <input type="range" id="eff-electric" min="50" max="99" value="80" step="1">
        </div>
    </div>

    <div class="section formulas">
        <h3>⚙️ Справочные формулы</h3>
        <p><b>НТС смеси:</b> <code>(НТС₁×%₁) + ...</code></p>
        <p><b>Тепловая мощность:</b> <code>Мощность(электр) × 2.87</code></p>
    </div>
</div>

<footer><p>v2.3 | 2025 г. При содействии Лагунова Сергея.</p></footer>

<script src="script.js"></script>

</body>
</html>
